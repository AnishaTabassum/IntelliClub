{% extends "dashboard/base.html" %} {% block content %}

<div class="mb-5">
  <h2 class="fw-bold fs-1 mb-4">Discover Events</h2>

  <form method="GET" action="{% url 'all_events' %}" class="mb-5">
    <div
      class="input-group input-group-lg shadow-sm rounded-pill overflow-hidden border"
    >
      <span class="input-group-text bg-white border-0 ps-4">
        <i class="bi bi-search text-muted"></i>
      </span>
      <input
        type="text"
        name="search"
        class="form-control border-0 py-3"
        placeholder="Search by event name, type, or venue..."
        value="{{ request.GET.search }}"
      />
      <button class="btn btn-dark px-5 fw-bold" type="submit">Search</button>
    </div>
  </form>
</div>

<div class="row g-4">
  {% for event in all_events %}
  <div class="col-md-4">
    <a
      href="{% url 'event_detail' event.event_id %}"
      class="text-decoration-none"
    >
      <div class="card p-4 h-100 border shadow-sm rounded-4 event-card-hover">
        <span class="badge bg-light text-dark border rounded-pill mb-3 w-fit"
          >{{ event.event_type }}</span
        >
        <h4 class="fw-bold text-dark mb-2">{{ event.event_name }}</h4>
        <p class="text-muted small mb-3">
          <i class="bi bi-geo-alt me-1"></i> {{ event.venue }}
        </p>
        <div
          class="mt-auto pt-3 border-top d-flex justify-content-between align-items-center"
        >
          <span class="fw-bold text-primary">{{ event.event_fee }} BDT</span>
          <span class="text-muted small"
            >{{ event.event_date|date:"M d" }}</span
          >
        </div>
      </div>
    </a>
  </div>
  {% empty %}
  <div class="col-12 text-center py-5">
    <p class="text-muted">No events found matching your search.</p>
  </div>
  {% endfor %}
</div>

<style>
  .event-card-hover {
    transition: all 0.2s ease;
  }
  .event-card-hover:hover {
    transform: translateY(-5px);
    border-color: #000 !important;
  }
  .w-fit {
    width: fit-content;
  }
</style>

{% endblock %}
